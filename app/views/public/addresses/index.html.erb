<h1>配送先登録/一覧</h1>

<%= form_with model: @address, url: addresses_path, method: :post do |f| %>

  <div class="field">
    <%= f.label :郵便番号（ハイフンなし） %><br>
    <%= f.text_field :postal_code %>
  </div>

  <div class="field">
    <%= f.label :住所 %><br>
    <%= f.text_field :address %>
  </div>

  <div class="field">
    <%= f.label :宛名 %><br>
    <%= f.text_field :name %>
  </div>
  
  <%= f.submit '登録' %>
  
<% end %>

<table>
  <tr>
    <th>郵便番号</th>
    <th>住所</th>
    <th>宛名</th>
    <th><br></th>
  </tr>
  <% @addresses.each do |address| %>
  <tr>
    <td><%= address.postal_code %></td>
    <td><%= address.address %></td>
    <td><%= address.name %></td>
    <td>
      <%= link_to "編集", edit_address_path(address.id) %>
      <%= link_to "削除", address_path(address.id), method: :delete, "data-confirm" => "本当に削除しますか？" %>
    </td>
  </tr>
  <% end %>
</table>